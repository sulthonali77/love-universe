<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmic Journey - Fenda Enjelita</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #050505;
            overflow: hidden;
            color: white;
            margin: 0;
        }

        /* --- BACKGROUND LAYER --- */
        .cosmic-background {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at center, #1b2735 0%, #050505 100%);
            z-index: -20;
        }

        .stars-container {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -10;
            pointer-events: none;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.5;
            animation: twinkle var(--duration) infinite ease-in-out;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.3); }
        }

        /* --- ORNAMEN BENDA LANGIT --- */
        .planet {
            position: absolute;
            border-radius: 50%;
            filter: blur(1px);
            z-index: -5;
            animation: float 8s infinite ease-in-out;
            opacity: 0.4;
        }

        .moon-ornament {
            position: absolute;
            width: 150px;
            height: 150px;
            background: radial-gradient(circle at 30% 30%, #f8fafc, #94a3b8);
            border-radius: 50%;
            box-shadow: 0 0 50px rgba(255, 255, 255, 0.1);
            top: 10%;
            right: 5%;
            z-index: -5;
            opacity: 0.6;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        /* --- SCENE CONTROL --- */
        .scene {
            display: none;
            min-height: 100vh;
            width: 100%;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
            opacity: 0;
            transition: all 1s ease-in-out;
            position: absolute;
            top: 0; left: 0;
        }

        .scene-active {
            display: flex !important;
            opacity: 1;
        }

        .fade-up {
            animation: fadeUp 1.2s forwards;
        }

        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- BUTTONS --- */
        .btn-cosmic {
            background: linear-gradient(135deg, #a78bfa 0%, #7c3aed 100%);
            color: white;
            font-weight: bold;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 0 20px rgba(124, 58, 237, 0.4);
            border: none;
            cursor: pointer;
        }

        .btn-cosmic:hover { transform: scale(1.1); box-shadow: 0 0 40px rgba(167, 139, 250, 0.8); }

        /* --- 3D CONSTELLATION CONTAINER --- */
        #photo-canvas-3d {
            perspective: 1200px;
            cursor: grab;
        }

        #constellation-world {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 0.1s ease-out;
        }

        .photo-node-3d {
            position: absolute;
            transform-style: preserve-3d;
            transition: transform 0.3s;
        }

        .photo-node-3d img {
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 0 20px rgba(167, 139, 250, 0.3);
            backface-visibility: visible;
        }

        /* --- SCROLLBAR --- */
        .custom-scroll::-webkit-scrollbar { width: 4px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #a78bfa; border-radius: 10px; }

        #photo-modal { background: rgba(0, 0, 0, 0.9); backdrop-filter: blur(10px); }
    </style>
</head>
<body>

    <div class="cosmic-background"></div>
    <div id="stars" class="stars-container"></div>
    
    <!-- Ornamen statis namun mengambang -->
    <div class="moon-ornament"></div>
    <div class="planet bg-blue-900 w-24 h-24 bottom-20 left-[10%] opacity-20 shadow-inner"></div>
    <div class="planet bg-purple-900 w-12 h-12 top-1/2 right-[10%] opacity-30 shadow-inner" style="animation-delay: -3s;"></div>

    <main id="app-container" class="relative z-10">

        <!-- SCENE 1: INTRO -->
        <section id="scene-1" class="scene scene-active">
            <div class="max-w-4xl mx-auto space-y-12 px-4 fade-up">
                <p class="text-xl md:text-2xl italic tracking-[0.2em] text-purple-200 opacity-80">
                    "Di antara jutaan rasi bintang..."
                </p>
                <h1 class="text-5xl md:text-8xl font-black tracking-tight leading-tight">
                    I LOVE YOU <br> 
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500" style="letter-spacing: 0.1em;">IN EVERY UNIVERSE.</span>
                </h1>
                <div class="h-24 flex items-center justify-center">
                    <button onclick="nextScene()" id="btn-1" class="btn-cosmic px-12 py-5 rounded-full hidden">
                        Mulai Perjalanan
                    </button>
                </div>
            </div>
        </section>

        <!-- SCENE 2: NAMA -->
        <section id="scene-2" class="scene">
            <div class="max-w-5xl mx-auto space-y-10 px-4 fade-up">
                <div class="relative inline-block p-1 bg-gradient-to-r from-purple-500 via-pink-500 to-yellow-500 rounded-3xl shadow-2xl">
                    <div class="bg-black bg-opacity-90 px-12 py-12 rounded-[calc(1.5rem-1px)]">
                        <h2 class="text-5xl md:text-8xl font-black tracking-[0.2em] text-white">
                            FENDA ENJELITA
                        </h2>
                    </div>
                </div>
                <p class="text-2xl md:text-4xl font-light italic text-purple-100">
                    Selamat Ulang Tahun, Sang Pemilik Semesta Hatiku.
                </p>
                <div class="h-24 flex items-center justify-center">
                    <button onclick="nextScene()" id="btn-2" class="btn-cosmic px-12 py-5 rounded-full hidden">
                        Lihat Rasi Bintang
                    </button>
                </div>
            </div>
        </section>

        <!-- SCENE 3: 3D CONSTELLATION BOX (FIXED) -->
        <section id="scene-3" class="scene">
            <div class="relative w-full max-w-5xl mx-auto px-4 fade-up">
                <h2 class="text-3xl md:text-4xl font-bold mb-4 text-purple-300">Rasi Bintang Kenangan</h2>
                <p class="mb-8 text-sm text-gray-400">Geser di dalam kotak untuk memutar rasi bintang kita</p>
                
                <div id="photo-canvas-3d" class="relative w-full h-[500px] md:h-[600px] mx-auto overflow-hidden rounded-3xl border border-white/10 bg-white/5 backdrop-blur-sm shadow-2xl">
                    <div id="constellation-world" class="w-full h-full flex items-center justify-center">
                        <!-- Foto akan muncul di sini secara 3D -->
                    </div>
                </div>

                <div class="h-24 flex items-center justify-center mt-6">
                    <button onclick="nextScene()" id="btn-3" class="btn-cosmic px-12 py-5 rounded-full hidden">
                        Baca Pesan Terakhir
                    </button>
                </div>
            </div>
        </section>

        <!-- SCENE 4: PESAN -->
        <section id="scene-4" class="scene">
            <div class="max-w-2xl mx-auto p-8 md:p-12 rounded-[2.5rem] bg-black/60 backdrop-blur-2xl border border-purple-500/30 shadow-2xl fade-up">
                <h2 class="text-2xl md:text-3xl font-bold mb-8 text-yellow-300">ANGKA DUA SATU YANG SUDAH BERLALU</h2>
                <div class="text-left space-y-5 text-sm md:text-base leading-relaxed text-gray-200 custom-scroll max-h-[50vh] overflow-y-auto px-4">
                    <p>Hari ini tuan rumah delapan belas desember kembali mengulang hari. Hari ini, izinkan aku langitkan semua doa terbaikku untuk kamu.</p>
                    <p>Semoga hal-hal yang membuat kamu runtuh turut menjadi alasan kamu untuk tumbuh. Semoga dunia senantiasa menjaga kamu di mana pun kamu berada. Semoga hari-hari kamu selalu diiringi doa yang tidak pernah ada batasnya. Dan semoga, senyum kedua orang tuamu yang selalu kamu usahakan itu kini sudah terlaksana.</p>
                    <p>Sebelumnya aku ingin mengucapkan terima kasih. Terima kasih karena pernah tinggal dan membantu pemiliknya untuk menjaga kehangatan rumahnya agar tetap nyaman untuk dihuni. Waktu yang singkat, namun kamu juga adalah peran utama karena sudah ikut andil dalam mewarnai hari-hari yang hanya berwarna hitam dan putih.</p>
                    <p>Selamat genap menjadi angka 22 di usiamu yang genap hari ini. Sudah banyak hal yang kamu lalui. Semoga selalu dikuatkan bahu pundak serta pikiran untuk setiap batu loncatan, meskipun dengan cara yang tidak pernah kamu pikirkan.</p>
                    <p>Semoga selalu dimampukan dalam meraih mimpi besar yang ingin kamu tuju. Semoga perjalanan baikmu selalu mendapat kebahagiaan setelahnya. Semoga tidak ada satupun yang menulikan telinganya saat hidupmu butuh pertolongan. Terima kasih telah menjadi bagian dari proses pendewasaan.</p>
                    <p class="font-bold text-purple-400">Selamat merayakan hari lahirmu, berjanjilah untuk hidup dengan baik dan berbahagialah. Terima kasih sudah lahir dan menjadi seseorang yang membawa kebahagiaan.</p>
                </div>
                <div class="h-24 flex items-center justify-center mt-6">
                    <button onclick="nextScene()" id="btn-4" class="btn-cosmic px-12 py-5 rounded-full hidden">
                        Selesaikan Orbit
                    </button>
                </div>
            </div>
        </section>

        <!-- SCENE 5: FINAL -->
        <section id="scene-5" class="scene">
            <div class="fade-up space-y-10">
                <h1 class="text-7xl md:text-9xl font-black italic tracking-tighter neon-glow">SELAMANYA.</h1>
                <p class="text-xl md:text-3xl text-purple-200 font-light italic">Happy Birthday, Fenda Enjelita</p>
                <button onclick="location.reload()" class="text-xs uppercase tracking-widest text-gray-500 hover:text-white transition">Restart Orbit</button>
            </div>
        </section>

    </main>

    <!-- Modal Zoom -->
    <div id="photo-modal" class="fixed inset-0 z-[100] flex items-center justify-center p-4 opacity-0 pointer-events-none transition-all duration-500">
        <div class="relative max-w-xl w-full">
            <img id="modal-image" src="" class="w-full rounded-3xl shadow-2xl border-2 border-white/20">
            <button onclick="closeModal()" class="absolute -top-16 right-0 text-white text-5xl font-thin">&times;</button>
        </div>
    </div>

    <script>
        let currentScene = 1;
        const photoFiles = Array.from({length: 10}, (_, i) => `foto${i+1}.jpg`);
        
        // --- 3D INTERACTION STATE ---
        let rotX = 0, rotY = 0;
        let isDragging = false;
        let startX, startY;

        function createStars() {
            const container = document.getElementById('stars');
            for (let i = 0; i < 150; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                const size = Math.random() * 2 + 1;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.setProperty('--duration', `${2 + Math.random() * 4}s`);
                container.appendChild(star);
            }
        }

        function nextScene() {
            const current = document.getElementById(`scene-${currentScene}`);
            current.classList.remove('scene-active');
            
            currentScene++;
            if (currentScene > 5) currentScene = 1;

            const next = document.getElementById(`scene-${currentScene}`);
            setTimeout(() => {
                document.querySelectorAll('.scene').forEach(s => s.classList.remove('scene-active'));
                next.classList.add('scene-active');

                if (currentScene === 3) init3DConstellation();

                const btn = document.getElementById(`btn-${currentScene}`);
                if (btn) {
                    btn.classList.add('hidden');
                    setTimeout(() => btn.classList.remove('hidden'), 2000);
                }
            }, 300);
        }

        // --- 3D CONSTELLATION LOGIC ---
        function init3DConstellation() {
            const world = document.getElementById('constellation-world');
            world.innerHTML = ''; // Reset
            
            // Koordinat 3D untuk 10 foto
            const points = [
                {x: 150, y: -100, z: 100}, {x: -150, y: -150, z: -100},
                {x: 200, y: 150, z: -50}, {x: -200, y: 100, z: 150},
                {x: 0, y: -200, z: 200}, {x: 100, y: 0, z: -200},
                {x: -100, y: 200, z: -150}, {x: 50, y: 180, z: 100},
                {x: -180, y: -50, z: 50}, {x: 80, y: 100, z: 180}
            ];

            points.forEach((p, i) => {
                const node = document.createElement('div');
                node.className = 'photo-node-3d';
                node.style.transform = `translate3d(${p.x}px, ${p.y}px, ${p.z}px)`;
                
                const img = document.createElement('img');
                img.src = `images/${photoFiles[i]}`;
                img.className = 'w-24 h-24 md:w-32 md:h-32 object-cover rounded-2xl cursor-pointer hover:scale-110 transition';
                img.onerror = function() {
                    this.src = `https://placehold.co/200x200/4c1d95/ffffff?text=Kenangan+${i+1}`;
                };
                
                img.onclick = (e) => {
                    e.stopPropagation();
                    openModal(img.src);
                };

                node.appendChild(img);
                world.appendChild(node);
            });

            // Handle Interaction
            const canvas = document.getElementById('photo-canvas-3d');
            
            const startMove = (e) => {
                isDragging = true;
                startX = (e.pageX || e.touches[0].pageX);
                startY = (e.pageY || e.touches[0].pageY);
                canvas.style.cursor = 'grabbing';
            };

            const doMove = (e) => {
                if (!isDragging) return;
                const x = (e.pageX || e.touches[0].pageX);
                const y = (e.pageY || e.touches[0].pageY);
                rotY += (x - startX) * 0.2;
                rotX -= (y - startY) * 0.2;
                world.style.transform = `rotateX(${rotX}deg) rotateY(${rotY}deg)`;
                startX = x;
                startY = y;
            };

            const endMove = () => {
                isDragging = false;
                canvas.style.cursor = 'grab';
            };

            canvas.addEventListener('mousedown', startMove);
            window.addEventListener('mousemove', doMove);
            window.addEventListener('mouseup', endMove);

            canvas.addEventListener('touchstart', startMove);
            window.addEventListener('touchmove', doMove);
            window.addEventListener('touchend', endMove);
        }

        function openModal(src) {
            const modal = document.getElementById('photo-modal');
            document.getElementById('modal-image').src = src;
            modal.classList.remove('opacity-0', 'pointer-events-none');
        }

        function closeModal() {
            document.getElementById('photo-modal').classList.add('opacity-0', 'pointer-events-none');
        }

        window.onload = () => {
            createStars();
            setTimeout(() => {
                document.getElementById('btn-1').classList.remove('hidden');
            }, 3000);
        };
    </script>
</body>
</html>
